{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspace\\\\projeler\\\\cv_frontend\\\\src\\\\pages\\\\LoginPage.js\";\nimport React from 'react';\nimport { login } from \"../api/apiCalls\";\nimport { connect, useSelector } from \"react-redux\";\nimport { loginSuccess } from \"../redux/authActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = () => {\n  // state = {\n  //     username: null,\n  //     password: null,\n  //     error: null\n  // }\n  const onChange = event => {\n    const {\n      name,\n      value\n    } = event.target; // this.setState({\n    //     [name]:value\n    // })\n  };\n\n  const onClickLogin = async event => {\n    event.preventDefault(); // const {username, password} = this.state;\n\n    const creds = {\n      username: username,\n      password: password\n    };\n    const {\n      push\n    } = this.props.history;\n    this.setState({\n      error: null\n    });\n\n    try {\n      const response = await login(creds);\n      push('/');\n      const authState = { ...response.data,\n        password\n      };\n      this.props.onLoginSuccess(authState);\n    } catch (error) {\n      this.setState({\n        error: error.response.data.message\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"username\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"password\",\n          type: \"password\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-1\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: onClickLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_c = LoginPage;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLoginSuccess: authState => {\n      return dispatch(loginSuccess(authState));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(LoginPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/workspace/projeler/cv_frontend/src/pages/LoginPage.js"],"names":["React","login","connect","useSelector","loginSuccess","LoginPage","onChange","event","name","value","target","onClickLogin","preventDefault","creds","username","password","push","props","history","setState","error","response","authState","data","onLoginSuccess","message","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {login} from \"../api/apiCalls\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {loginSuccess} from \"../redux/authActions\";\r\n\r\n\r\nconst LoginPage = () => {\r\n\r\n    // state = {\r\n    //     username: null,\r\n    //     password: null,\r\n    //     error: null\r\n    // }\r\n\r\n    const onChange = event => {\r\n        const {name, value} = event.target;\r\n        // this.setState({\r\n        //     [name]:value\r\n        // })\r\n    }\r\n\r\n    const onClickLogin =  async event => {\r\n        event.preventDefault();\r\n        // const {username, password} = this.state;\r\n\r\n        const creds = {\r\n            username: username,\r\n            password: password\r\n        };\r\n\r\n        const {push} =this.props.history;\r\n\r\n        this.setState({\r\n            error:null\r\n        });\r\n        try{\r\n            const response = await login(creds);\r\n            push('/');\r\n\r\n            const authState = {\r\n                ...response.data,\r\n                password\r\n            }\r\n\r\n            this.props.onLoginSuccess(authState)\r\n        } catch (error){\r\n\r\n            this.setState({\r\n                error: error.response.data.message\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <form action=\"\">\r\n                <h1 className=\"text-center\">Login</h1>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"\">Username</label>\r\n                    <input className=\"form-control\" name=\"username\" onChange={onChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"\">Password</label>\r\n                    <input className=\"form-control\" name=\"password\" type=\"password\" onChange={onChange}/>\r\n                </div>\r\n                <div className=\"text-center mt-1\">\r\n                    <button  className=\"btn btn-primary\" onClick={onClickLogin}>\r\n                        Login\r\n                    </button>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onLoginSuccess: (authState) => {\r\n            return dispatch(loginSuccess(authState))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginPage);"]},"metadata":{},"sourceType":"module"}